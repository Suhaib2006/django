{% extends "Base.html" %}

{% block Title %}
Trial Balance
{% endblock %}

{% block Style %}
    {% load static %}
    <style>
        .main-nav-bar{
            flex-direction: column;
        }
        .menu-btn{
            display: none;
        }
        .mainbox{
            height: 90vh;
        }
        .nav-icon{
            color: white;
            text-decoration: none;
        }
        .scrl-box{
            max-height: 55vh;
            overflow-y: scroll;
        }
        .box{
            background-color: black;
            color: rgb(255, 115, 0);
            border-radius: 20px;
        }
        .sig-box{
            text-transform: capitalize;
            border-radius: 10px;
            min-height: 8vh;
            margin-top: 4px;
            margin-bottom: 4px;
            border: 2px solid white;
            color: rgb(255, 255, 255);
        }
        .borderremove{
            background-color: gray !important;
        }
        @media (max-width:600px){
            .main-nav-bar{
                flex-direction: row;
            }
            .menu-btn{
                display: inline;
            }
            .display-menu{
                display: none;
            }
            .menu-icons-bar{
                position: absolute;
                top: 104%;
                left: 0%;
                backdrop-filter: blur(10px);
                height: 95vh;
                transition: 0.5s;
                display: inline;
            }
            .nav-icon{
                margin-top: 20px;
                font-size: 25px;
                margin-left: 20px;
            }

            .icon-box{
                display: flex;
                height: 80px;
                align-items: center;
            }
            .sig-box div h4{
                font-size: 22px;
            }
        }
    </style>
{% endblock %}

{% block Content %}
    {% include 'Navbar.html' with Project=Project %}
    <div class="mainbox row col-12">
        <div class="col-12 col-md-6" id="trial">
            {% if Trial %}
                <div class="row d-flex justify-content-center align-items-center" id="stock">
                    <h3 class="mt-3 col-11 text-capitalize box d-flex justify-content-center align-items-center text-center" style="height: 10vh;"><b>Trial balane of {{Project}}</b> </h3>
                    <div class="row col-11 d-flex justify-content-center align-items-center" >
                        <div class="col-6"><h3>Perticular</h3></div>
                        <div class="col-3"><h4>Dr</h3></div>
                        <div class="col-3"><h4>Cr</h3></div>
                    </div>
                    <div class="row col-11 scrl-box box mt-2  justify-content-center ">
                            {% for obj in Trial %}
                                {% if obj.amount != 0 %}
                                <div class="col-12 sig-box row d-flex justify-content-center align-items-center" id="{{obj.id}}" onclick="Mapdata('{{obj.id}}')">
                                    
                                    <div class="col-6 mt-1"><h4>{{obj.name}}</h4></div>
                                    {% if obj.state == "DR" %}
                                        <div class="col-3 mt-1"><h4>{{obj.amount|floatformat:-2}}</h4></div>
                                        <div class="col-3 mt-1"><h4></h4></div>
                                    {% else %}
                                        <div class="col-3 mt-1"><h4></h4></div>
                                        <div class="col-3 mt-1"><h4>{{obj.amount|floatformat:-2}}</h4></div>
                                    {% endif %}
                                </div>
                                {% endif %}

                            {% endfor %}
                    </div>
                    <div class="row col-11 box mt-2 d-flex justify-content-center align-items-center" style="height: 10vh;">
                        <div class="col-6"><h3>{{Tally}}</h3></div>
                        <div class="col-6 text-center"><h3>{{Amount|floatformat:-2}}</h3></div>
                    </div>
                </div>
            {% else %}
                <div class="d-flex justify-content-center col-12" style="height: 80vh; align-items: center; overflow:hidden; ">
                    <h2 class="text-center col-12">Data Is Not Founted <br>Please Enter Jornal Entry's And Your Ledger Account vist</h2>
                </div>
            {% endif %}
        </div>
        <div class="col-md-6 col-0" id="blagspace">
            <div class=" col-12 d-flex justify-content-center align-items-center flex-column" style="height: 90vh;">
                <div class="text-start col-10">
                    <h2 style="color: orange;"><b>TrialBalance </b></h2>
                    <h4 style="color: rgb(224, 224, 224);">A ledger account is a record of all trasactions related to a specific account in a business.It is part of the general ledger, which contains all financial data used to prepare the company's financial statement</h4>
                    <br>
                    {% if Tally == "Tally" %}
                    <h4 style="color: rgb(224, 224, 224);" class="mb-2">Do you wish to get your current Trial balance statement? yes, please click below </h4>
                    <button type="button" class="ms-1 rounded-5 btn btn-danger col-3 row" onclick="Trialpdf('{{Project}}')">
                        <h4 class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-filetype-pdf " viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"/>
                            </svg>
                            PDF
                        </h4>
                    </button>
                    {%  endif %}    
                </div> 
            </div>
        </div>
    </div>
{% endblock %}

{% block Script %}
        <script>
            function menubar(){
                document.getElementById('menu_bar').className="menu-icons-bar"
                document.getElementById('trial').className="d-none"
                document.getElementById('blagspace').className="d-none"
            }
            function Mapdata(id){
                const item=document.getElementById(id).classList.toggle("borderremove");
            }

            function Trialpdf(Project){
                window.location.href=`/Pdf/${Project}/TrialBalance`;
            }
        </script>
{% endblock %}